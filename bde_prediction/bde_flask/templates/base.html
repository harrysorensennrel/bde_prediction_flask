<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
	    <title>ALFABET</title>


		<link rel="stylesheet" href = "{{ url_for('static',filename='css/bootstrap-theme.min.css') }}">
		<link rel="stylesheet" media="print" href = "{{ url_for('static',filename='css/print.css') }}">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<link rel="stylesheet" media="screen" href = "{{ url_for('static',filename='css/bootstrap.min.css') }}">
		<script type="text/javascript" language="javascript" src="{{ url_for('static', filename="js/jquery.min.js") }}"></script>
		<script type="text/javascript" language="javascript" src="{{ url_for('static', filename="js/bootstrap.min.js") }}"></script>
		<script>
			document.write('<link href="{{ url_for('static',filename='css/custom.css') }}?r='+ Math.floor(Math.random()*100) +'" rel="stylesheet" type="text/css" />');
		</script>
		<script type="text/javascript" language="javascript" src="{{ url_for('static', filename="jsme/src/jsme/jsme.nocache.js") }}"></script>
		<meta name="viewport" content = "width=device-width, initial-scale=1.0">
		
		<meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">

	    <!-- == APPLICATION HEAD == -->
		<!-- Google Tag Manager -->
		<!-- == APPLICATION HEAD == -->
		<!-- Google Tag Manager -->
		<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KG7PVKB');</script>
		<!-- End Google Tag Manager -->
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-150828771-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'UA-150828771-1');
		</script>


	
	    <!-- Search engine code -->
	    <!--#config timefmt="%Y-%m-%d@%H:%M:%S %Z" -->
	    <meta http-equiv="last-modified" content="<!--#echo var='LAST_MODIFIED'-->">
	
	    <!-- Favicon -->
		<link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename="nrel-app-template-bootstrap4/favicon.ico") }}">

	    <!-- iOS icons --> 
	    <link rel="apple-touch-icon" href="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/img/touch-icon-iphone.png") }}">
	    <link rel="apple-touch-icon" sizes="72x72"   href="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/img/touch-icon-ipad.png") }}">
	    <link rel="apple-touch-icon" sizes="114x114" href="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/img/touch-icon-iphone-retina.png") }}">
	    <link rel="apple-touch-icon" sizes="144x144" href="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/img/touch-icon-ipad-retina.png") }}">
	      
	    <!-- GLOBAL styles -->
	    <link href="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/css/nrel.complete.min.css") }}" rel="stylesheet" >

	    <!-- NREL Application styles -->
		<link href="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/css/nrel.application.min.css") }}" rel="stylesheet" >

	    <!-- Fonts -->
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css?family=Noto+Serif:400,400i,700,700i%7CRoboto:300,400,700" rel="stylesheet">
	
		<!-- Font Awesome -->
		<script async src="//use.fontawesome.com/83c5c68c25.js"></script>
        
        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	
	    <!-- Google Analytics-->
	    <script>
	     (function() {
	        var so = document.createElement('script'); so.type = 'text/javascript'; so.async = true;
	        so.src = '//www.nrel.gov/includes/ga/nrel.js';
	        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(so, s);
	      })();
	    </script>
	    <!-- == END APPLICATION HEAD == -->
		
		
	</head>
	<body>
		
		<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KG7PVKB"
		height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
		<!-- End Google Tag Manager (noscript) -->
		
		<!-- Site application banner -->
		<!--stopindex-->
		<a href="#content" class="sr-only">Skip to main content</a>
		
		<header id="banner">
			<div class="banner-logo">
				<div class="container app">
					<div class="grid">
						<div class="row">
							<div class="col-md-6 col-xl-8 order-md-1">
								<a href="/" class="app-name">
									<img id="alfabet_logo" src="{{ url_for('static', filename="image/logo_wide.svg") }}" alt="ALFABET logo">
									<h3><b>A</b> machine-<b>L</b>earning derived, <b>F</b>ast, <b>A</b>ccurate <b>B</b>ond dissociation <b>E</b>nthalpy <b>T</b>ool</h3></a>
							</div>
							<div class="col-md-6 col-xl-4 order-md-2">
								<a href="http://www.nrel.gov"><div class="logo"><img src="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/img/nrel-logo-web.svg") }}" class="sr-only" alt="National Renewable Energy Laboratory" /></div></a>							</div>
						</div>
					</div>
				</div>
			</div>
		</header>
		<!--startindex-->
			
			
		<!-- TOP NAVIGATION -->
		<!--stopindex-->


		<div class="container" id="input-header">

			<form  action="{{ url_for("result") }}" method="get" role="form">
				{{ form.csrf }}
				<div class="form-group" id="smiles-input">
					<input type="text" class="form-control" id="name" name="name" placeholder="Enter a SMILES string, e.g. 'CC1=CC(=CC(=C1)O)C'">
					<a class="btn btn-success" data-toggle="modal" data-target="#jsmewindow" onclick="drawfromSmiles('name')"><span class="glyphicon glyphicon-pencil" style="margin-right:10px"></span>Draw</a>
					<button type="submit" class="btn btn-success">Submit</button>
				</div>
			</form>

			<br>
			{% with messages = get_flashed_messages(with_categories=true) %}
			{% if messages %}

			{% for message in messages %}
			{% if "Error" not in message[1]: %}
			<div class="alert alert-info">
				<strong>Success! </strong> {{ message[1] }}
			</div>
			{% endif %}

			{% if "Error" in message[1]: %}
			<div class="alert alert-warning">
				{{ message[1] }}
			</div>
			{% endif %}
			{% endfor %}
			{% endif %}
			{% endwith %}


		</div>
		<div id="content" class="container">{% block content %}{% endblock %}</div>

	<!-- == GLOBAL APPLICATION SCRIPTS == -->
	    <!-- Bootstrap -->
	    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	
		<!-- Icons plugin -->	
		
	    <script src="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/js/iconomatic/jquery.iconomatic.min.js") }}"></script>
	    <script src="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/js/iconomatic/jquery.iconomatic.min.js") }}"></script>
	
		<!-- Global scripts -->
	    <script src="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/js/app.min.js") }}"></script>
	
	    <script>
	        /*
	         *  Label icons
	         */
	        $(document).ready(function(){
	            $('body').iconomatic({
	                 ajax       :  true
	                ,dataMode   :  true
	            });
	        });
	    </script>
	    <!-- == END GLOBAL APPLICATION SCRIPTS == -->
	
	<!-- Site application scripts -->
	<script src="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/js/plugins.min.js") }}"></script>
	<script src="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/js/app.min.js") }}"></script>
	
	<!-- jsmewindow connected to the draw link by data-target -->
	<div class="modal fade" id="jsmewindow">
		<div class="modal-dialog modal-dialog-centered modal-lg">
			<div class="modal-content">
				<div id="jsme_container" class="modal-body" style="height:430px;">
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
					<button type="button" class="btn btn-primary" data-dismiss="modal" onclick="saveSmiles()">OK</button>
	</div>
</div>
</div>
</div>
	<script>

		$('#jsmewindow').on('shown.bs.modal', function (e) {
			jsmeApplet.setWidth($("#jsme_container").width() + "px");
		});

		window.onresize = e => { jsmeApplet.setWidth($("#jsme_container").width() + "px") };

		//this function will be called after the JavaScriptApplet code has been loaded.
		function jsmeOnLoad() {
			jsmeApplet = new JSApplet.JSME("jsme_container", "768px", "400px");
		}
			//set the smile string of molecule drawing in the jsme window to the text
			function saveSmiles() {
					var smiles = jsmeApplet.smiles();
					document.getElementById("name").value = smiles;
			}
			function drawfromSmiles(input) {
					var smiles = document.getElementById(input).value;
					if(smiles) {
							jsmeApplet.readGenericMolecularInput(smiles);
					}else {
							jsmeApplet.reset();
					}
			}
	</script>

	{% include 'footer.html' %}
	{% include 'svgcontrols.html' %}

		<!-- == GLOBAL APPLICATION SCRIPTS == -->
		<!-- Bootstrap -->
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

		<!-- Icons plugin -->
		<script src="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/js/iconomatic/jquery.iconomatic.min.js") }}"></script>

		<!-- Global scripts -->
		<script src="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/js/app.min.js") }}"></script>

		<script>
			/*
	         *  Label icons
	         */
			$(document).ready(function(){
				$('body').iconomatic({
					ajax       :  true
					,dataMode   :  true
				});
			});
		</script>
		<!-- == END GLOBAL APPLICATION SCRIPTS == -->

		<!-- Site application scripts -->
		<script src="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/js/plugins.min.js") }}"></script>
		<script src="{{ url_for('static', filename="nrel-app-template-bootstrap4/client/js/app.min.js") }}"></script>


	</body>
</html>
